<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Movie Book Worm</title>
        <script type="text/javascript">
                    function searchURI(){
                        window.location.href = "http://localhost:8080/MovieBookREST/webresources/movie?q=" +
                                 document.getElementById("title").value ;
                    }
        </script>
    </h:head>
    <h:body>
        <center style="margin-top: 50px">
            <img src="./images/logo.png"/>
            
            <h:form id="searchMovieForm" style="margin-top: 50px">
            <p:panel style="overflow: auto; alignment-adjust: middle" header="SEARCH FOR A FILM">
                <h:panelGrid columns="3" id="searchEventGrid">
                    <h:outputLabel for="title">Title:</h:outputLabel>
                    <p:inputText id="title" value="#{searchBean.title}" required="true" requiredMessage="Mandatory"  />
                    <p:message id="titlemsg" for="title" />
                </h:panelGrid>
                <p:commandButton id="submit" value="Submit" update="title, titlemsg" onclick="searchURI();" action="#{searchBean.search()}" />
            </p:panel>
            <p:blockUI block="searchMovieForm" trigger="submit">
                LOADING<br />
                <p:graphicImage value="http://www.iranyellowpages.ir/images/UpdateGif/gear.gif"/>
            </p:blockUI>
            </h:form>
        </center>
    </h:body>
</html>
